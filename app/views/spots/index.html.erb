<h4>Recherche</h4>
<div class="container">
<div class="row justify-content-center">
  <div class="col-sm-11 my-1">
    <%= form_with url: spots_path, method: :get, class: "d-flex" do %>
      <%= text_field_tag :query,
            params[:query],
            class: "form-control",
            placeholder: "Type a keyword"
        %>
      <%= submit_tag "Search", name: "", class: "button-search me-2" %>
    <% end %>
    <%= link_to "reset", spots_path %>
  </div>
</div>
</div>







<div class="card-group">

  <% @spots.each do |spot| %>
    <div class="card">

      <%= cl_image_tag spot.image.key, class:"card-img-top"%>
        <div class="card-body">
          <h5 class="card-title"><%= spot.name %></h5>
          <h6 class="card-title"><%=spot.description %></h6>
          <h6 class="card-subtitle mb-2 text-muted"><%= spot.location %></h6>
          <p class="card-text"><%= spot.price %> â‚¬</p>
          </div>
      <div>
        <%= link_to "More details", spot_path(spot), class: "button-ajouter"%>
      </div>
      </button>
    </div>
  <% end %>
</div>

<%# map %>
<div class="map-container" style="display: flex; justify-content: center; align-items: center;">
  <div style="width: 100%; height: 500px; border-radius: 15px; margin: 32px;"
    data-controller="map"
    data-map-markers-value="<%= @markers.to_json %>"
    data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>">
  </div>
</div>

<div class="centered.button">
  <%= link_to "Ajouter un spot", new_spot_path, class: "button-ajouter" %>
</div>
